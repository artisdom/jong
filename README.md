# JONG: JOplin Note Generator

## Description

This is a little project to automatically create note in Joplin, by reading RSS Feeds

## Requirements

* Python 3+
* peewee: for the database
* arrow: to handle date comparison
* feedparser: the great lib to handle RSS/Atom file
* pypandoc: file format converted
* python-slugify: convert a string in slug

## Installation

```
python3 -m venv jong
cd jong
source bin/activate
git clone https://github.com/foxmask/jong
```

## Defining RSS Feeds

Put you Feeds in a CSV file named `my_feeds.csv`

```csv
"foxmask","blog","https://foxmask.net/feeds/all.rss.xml","",1
"sam et max","blog","http://sametmax.com/feed/","",1
``` 
where:

* first column: a name of the feeds
* second column: the joplin folder name where the notes of that feeds will be stored
* third column: the Feeds URL
* fourth column: the joplin tag you want to associate for that feeds
* fifth column: the status, 1 active , 0 not active. Thus you can add many feeds and when you want to disable one of the ; set this column to 0

## Loading Feeds

launch

```
python jong/load_data.py 
```

for additionnal settings run
```
python jong/load_data.py --help 
usage: load_data.py [-h] [--csv-file CSV_FILE] [--db DB] [--timezone TIMEZONE]

JOplin Notes Generator: CSV Loader

optional arguments:
  -h, --help           show this help message and exit
  --csv-file CSV_FILE  path of the csv file
  --db DB              path to the SQLite database
  --timezone TIMEZONE  Time Zone

```  


this will read `my_feeds.csv` and:

if the data does not exist, it creates it
if the data already exists, it updates it. Thus for existing handled Feeds, the date of the last handling is still in the database 

## Running Jong

It runs in 2 steps.

One for grabbing the content of each RSS/Atom Feeds
One for creating the markdown file associated 

One optional, to import that file in joplin. This one will be done if you have set JOPLIN_BIN_PATH
Otherwise, the markdown file will be created, and you could import them later when you want by yourself. 

After the import of the markdown, `jong` will set a readable title (and note the name of the markdown file, 
default behavior) the author and the source url of the article

So launch:
```
python jong/core.py 
``` 

for additionnal settings run
```
python jong/core.py --help 
usage: core.py [-h] [--settings SETTINGS] [--joplin-profile PROFILE]
               [--joplin-bin BIN] [--jong-md-path JONG_MD_PATH]
               [--jong-csv-file JONG_CSV_FILE] [--timezone TIMEZONE]
               [--debug DEBUG]

JOplin Notes Generator

optional arguments:
  -h, --help            show this help message and exit
  --settings SETTINGS   path of the settings of jong
  --joplin-profile PROFILE
                        joplin path to the profile
  --joplin-bin BIN      default path to the joplin program
  --jong-md-path JONG_MD_PATH
                        path to store markdown files generated by jong
  --jong-csv-file JONG_CSV_FILE
                        path to my_feeds.csv file
  --timezone TIMEZONE   Time Zone
  --debug DEBUG         running in debug mode

```  
Enjoy!